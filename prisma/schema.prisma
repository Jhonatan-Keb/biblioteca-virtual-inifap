generator client {
  provider = "prisma-client-js"
}

// ESTO ES LO QUE TE FALTABA (El bloque que define el tipo de BD)
datasource db {
  provider = "postgresql"
}

// --- TABLAS VIEJAS (Recuperadas de tu base de datos) ---

model pub_cientificas {
  id            Int     @id @db.SmallInt
  publicacion   String  @db.VarChar(500)
  liga          String? @db.VarChar(200)
  muestra       String  @db.Char(1)
  cuenta        Int     @db.SmallInt
  ano           Int     @db.SmallInt
  mensaje       String? @db.VarChar(500)
  publicacionot String? @db.VarChar(500)

  @@index([id], map: "indexPubC")
}

model pub_tecnicas {
  id          Int     @id @db.SmallInt
  publicacion String  @db.VarChar(500)
  imagen      String  @db.VarChar(200)
  cuenta      Int     @db.SmallInt
  muestra     String  @db.Char(1)
  liga        String? @db.VarChar(200)
  mensaje     String? @db.VarChar(500)
  ano         String? @db.VarChar(6)

  @@index([id], map: "indexPT")
}

// --- NUEVOS MODELOS (Para tu nuevo sistema Admin) ---

model User {
  id            String        @id @default(uuid())
  email         String        @unique
  password      String
  name          String?
  role          String        @default("USER") // 'ADMIN' | 'USER'
  createdAt     DateTime      @default(now())
  updatedAt     DateTime      @updatedAt
  
  publicaciones Publicacion[]
}

model Publicacion {
  id            String   @id @default(uuid())
  titulo        String
  tipo          String   // 'tecnica' | 'cientifica'
  imagenUrl     String?
  cuenta        Int?
  muestra       Boolean  @default(true)
  liga          String?
  a√±o           String?
  descripcion   String?  @db.Text
  publicacionot String?  
  
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  userId        String?
  user          User?    @relation(fields: [userId], references: [id])
}